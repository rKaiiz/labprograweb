<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Panel Staff ¬∑ La Media Docena</title>

  <link rel="stylesheet" href="assets/css/styles.css"/>

  <!-- Scripts globales (layout, auth, etc.) -->
  <script defer src="assets/js/data.js"></script>
  <script defer src="assets/js/main.js"></script>
</head>
<body data-page="staff">
  <main class="container">

    <!-- Encabezado estilo admin -->
    <header style="display:flex;justify-content:space-between;align-items:flex-start;gap:12px;flex-wrap:wrap;margin-bottom:16px">
      <div>
        <h1 style="margin:0">Panel de staff</h1>
        <p style="margin:4px 0 0;font-size:13px;color:#555;max-width:580px">
          Desde aqu√≠ el personal de piso puede gestionar las reservaciones, los pedidos,
          los mensajes de contacto y las rese√±as de clientes, sin acceder a la
          configuraci√≥n completa del sistema.
        </p>
      </div>
      <div style="display:flex;flex-direction:column;align-items:flex-end;gap:6px;font-size:12px">
        <span id="staff-session-label" style="color:#374151">
          Sesi√≥n: &mdash;
        </span>
        <div style="display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end">
          <a href="index.html" class="btn secondary" style="font-size:12px;padding:4px 10px">‚Üê Volver al inicio</a>
          <a href="admin.html" class="btn secondary" style="font-size:12px;padding:4px 10px">Panel administrador</a>
        </div>
      </div>
    </header>

    <!-- Resumen r√°pido similar al admin -->
    <section class="card" style="margin-bottom:16px">
      <h2 style="margin-top:0;font-size:15px">Resumen operativo</h2>
      <p style="margin:0 0 10px;font-size:12px;color:#6b7280">
        M√≥dulos disponibles para el staff. Este panel est√° limitado a tareas del d√≠a a d√≠a:
        atenci√≥n a clientes y seguimiento de operaciones.
      </p>

      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:10px;font-size:13px">
        <div style="padding:8px;border-radius:10px;background:#eff6ff;border:1px solid #bfdbfe">
          <div style="font-size:11px;text-transform:uppercase;color:#1d4ed8;letter-spacing:.04em">Reservaciones</div>
          <div style="font-size:18px;font-weight:600">Staff</div>
          <div style="font-size:11px;color:#1d4ed8">Revisar, confirmar y cancelar</div>
        </div>
        <div style="padding:8px;border-radius:10px;background:#fef2f2;border:1px solid #fecaca">
          <div style="font-size:11px;text-transform:uppercase;color:#b91c1c;letter-spacing:.04em">Pedidos</div>
          <div style="font-size:18px;font-weight:600">Staff</div>
          <div style="font-size:11px;color:#b91c1c">Estados: En proceso / Listo / Entregado</div>
        </div>
        <div style="padding:8px;border-radius:10px;background:#fefce8;border:1px solid #fef08a">
          <div style="font-size:11px;text-transform:uppercase;color:#854d0e;letter-spacing:.04em">Contacto</div>
          <div style="font-size:18px;font-weight:600">Staff</div>
          <div style="font-size:11px;color:#854d0e">Responder mensajes de clientes</div>
        </div>
        <div style="padding:8px;border-radius:10px;background:#ecfdf3;border:1px solid #bbf7d0">
          <div style="font-size:11px;text-transform:uppercase;color:#166534;letter-spacing:.04em">Rese√±as</div>
          <div style="font-size:18px;font-weight:600">Staff</div>
          <div style="font-size:11px;color:#166534">Revisi√≥n y aprobaci√≥n b√°sica</div>
        </div>
      </div>
    </section>

    <!-- M√≥dulos estilo tarjetas blancas como admin -->
    <section class="card">
      <h2 style="margin-top:0;font-size:15px">M√≥dulos de trabajo para el staff</h2>

      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:14px;margin-top:8px">

        <!-- Reservaciones -->
        <article style="padding:10px;border-radius:12px;background:#ffffff;border:1px solid #e5e7eb;display:flex;gap:10px">
          <div style="width:32px;height:32px;border-radius:999px;background:#ecfdf3;display:flex;align-items:center;justify-content:center;font-size:16px">
            üìÖ
          </div>
          <div style="flex:1;display:flex;flex-direction:column;gap:4px">
            <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:4px">
              <div>
                <h3 style="margin:0;font-size:14px;color:#111827">Reservaciones</h3>
                <p style="margin:2px 0 0;font-size:12px;color:#6b7280">
                  Revisa, confirma o cancela reservaciones de mesa realizadas por los clientes.
                </p>
              </div>
            </div>
            <div style="margin-top:auto;display:flex;justify-content:flex-end">
              <a href="admin-reservaciones.html" class="btn secondary" style="font-size:12px;padding:4px 10px">
                Abrir m√≥dulo de reservaciones ‚Üí
              </a>
            </div>
          </div>
        </article>

        <!-- Pedidos -->
        <article style="padding:10px;border-radius:12px;background:#ffffff;border:1px solid #e5e7eb;display:flex;gap:10px">
          <div style="width:32px;height:32px;border-radius:999px;background:#fef2f2;display:flex;align-items:center;justify-content:center;font-size:16px">
            üßæ
          </div>
          <div style="flex:1;display:flex;flex-direction:column;gap:4px">
            <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:4px">
              <div>
                <h3 style="margin:0;font-size:14px;color:#111827">Pedidos</h3>
                <p style="margin:2px 0 0;font-size:12px;color:#6b7280">
                  Consulta los pedidos realizados, revisa su detalle y cambia el estado
                  a <em>En proceso</em>, <em>Listo</em> o <em>Entregado</em>.
                </p>
              </div>
            </div>
            <div style="margin-top:auto;display:flex;justify-content:flex-end">
              <a href="admin-pedidos.html" class="btn secondary" style="font-size:12px;padding:4px 10px">
                Abrir m√≥dulo de pedidos ‚Üí
              </a>
            </div>
          </div>
        </article>

        <!-- Mensajes de contacto -->
        <article style="padding:10px;border-radius:12px;background:#ffffff;border:1px solid #e5e7eb;display:flex;gap:10px">
          <div style="width:32px;height:32px;border-radius:999px;background:#fefce8;display:flex;align-items:center;justify-content:center;font-size:16px">
            ‚úâÔ∏è
          </div>
          <div style="flex:1;display:flex;flex-direction:column;gap:4px">
            <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:4px">
              <div>
                <h3 style="margin:0;font-size:14px;color:#111827">Mensajes de contacto</h3>
                <p style="margin:2px 0 0;font-size:12px;color:#6b7280">
                  Visualiza y da seguimiento a los mensajes enviados desde la p√°gina de contacto:
                  dudas, comentarios y solicitudes especiales.
                </p>
              </div>
            </div>
            <div style="margin-top:auto;display:flex;justify-content:flex-end">
              <a href="admin-contacto.html" class="btn secondary" style="font-size:12px;padding:4px 10px">
                Abrir m√≥dulo de contacto ‚Üí
              </a>
            </div>
          </div>
        </article>

        <!-- Rese√±as -->
        <article style="padding:10px;border-radius:12px;background:#ffffff;border:1px solid #e5e7eb;display:flex;gap:10px">
          <div style="width:32px;height:32px;border-radius:999px;background:#eef2ff;display:flex;align-items:center;justify-content:center;font-size:16px">
            ‚≠ê
          </div>
          <div style="flex:1;display:flex;flex-direction:column;gap:4px">
            <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:4px">
              <div>
                <h3 style="margin:0;font-size:14px;color:#111827">Rese√±as de clientes</h3>
                <p style="margin:2px 0 0;font-size:12px;color:#6b7280">
                  Revisa las rese√±as que dejan los clientes y m√°rcalas como aprobadas o
                  rechazadas seg√∫n el criterio del negocio.
                </p>
              </div>
            </div>
            <div style="margin-top:auto;display:flex;justify-content:flex-end">
              <a href="admin-resenas.html" class="btn secondary" style="font-size:12px;padding:4px 10px">
                Abrir m√≥dulo de rese√±as ‚Üí
              </a>
            </div>
          </div>
        </article>

      </div>

      <p style="margin-top:12px;font-size:11px;color:#6b7280">
        Nota: para modificar platillos, categor√≠as, usuarios o la informaci√≥n institucional
        utiliza el <strong>panel de administraci√≥n</strong>. El panel de staff est√° enfocado
        √∫nicamente en la operaci√≥n diaria.
      </p>
    </section>

  </main>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const user = window.$app ? $app.getUser() : null;
      const label = document.getElementById("staff-session-label");

      if (!label) return;

      if (!user) {
        label.textContent = "Sesi√≥n: Sin iniciar sesi√≥n";
        label.style.color = "#b91c1c";
        return;
      }

      // Si es admin, lo mostramos; si no, lo etiquetamos como staff
      const nombre = user.nombre || "Usuario";
      const rolBD = user.role || "user";
      const rolVisible = rolBD === "admin" ? "Administrador" : "Staff";

      label.innerHTML = `
        Sesi√≥n: <strong>${nombre}</strong>
        <span style="font-size:11px;color:#6b7280">(${rolVisible})</span>
      `;
    });
  </script>
</body>
</html>
